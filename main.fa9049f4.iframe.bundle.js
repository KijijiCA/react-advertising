(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{215:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);__webpack_exports__.a=react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext((function(){}))},450:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return _uid}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8);function _uid(Story){window.googletag={cmd:[]};var wrapper=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)();return Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var script=document.createElement("script");script.async=!0,script.src="//securepubads.g.doubleclick.net/tag/js/gpt.js",wrapper.current.appendChild(script)}),[wrapper]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{ref:wrapper,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Story,{})})}_uid.displayName="GptDecorator"},451:function(module,__webpack_exports__,__webpack_require__){"use strict";var slicedToArray=__webpack_require__(120),objectWithoutProperties=__webpack_require__(447),react=(__webpack_require__(9),__webpack_require__(2),__webpack_require__(0)),AdvertisingContext=__webpack_require__(215);function isMobileDevice(){if("maxTouchPoints"in navigator)return navigator.maxTouchPoints>0;if("msMaxTouchPoints"in navigator)return navigator.msMaxTouchPoints>0;var mQ=window.matchMedia&&matchMedia("(pointer:coarse)");if(mQ&&"(pointer:coarse)"===mQ.media)return!!mQ.matches;if("orientation"in window)return!0;var UA=navigator.userAgent;return/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(UA)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(UA)}__webpack_require__(94);var useIsomorphicLayoutEffect="undefined"!=typeof window?react.useLayoutEffect:react.useEffect,jsx_runtime=__webpack_require__(8);function AdvertisingSlot(_ref){var id=_ref.id,style=_ref.style,className=_ref.className,children=_ref.children,_ref$customEventHandl=_ref.customEventHandlers,customEventHandlers=void 0===_ref$customEventHandl?{}:_ref$customEventHandl,restProps=Object(objectWithoutProperties.a)(_ref,["id","style","className","children","customEventHandlers"]),observerRef=Object(react.useRef)(null),containerDivRef=Object(react.useRef)(),_useContext=Object(react.useContext)(AdvertisingContext.a),activate=_useContext.activate,config=_useContext.config,lazyLoadConfig=function getLazyLoadConfig(config,id){if(null==config||!config.slots)return null;var slotConfig=config.slots.find((function(slot){return slot.id===id}));return slotConfig?void 0!==slotConfig.enableLazyLoad&&null!==slotConfig.enableLazyLoad?slotConfig.enableLazyLoad:void 0===(null==config?void 0:config.enableLazyLoad)?null:null==config?void 0:config.enableLazyLoad:null}(config,id),isLazyLoadEnabled=function isLazyLoading(lazyLoadConfig){if("boolean"==typeof lazyLoadConfig)return lazyLoadConfig;if(!lazyLoadConfig)return!1;var marginPercent=lazyLoadConfig.marginPercent;return!marginPercent||marginPercent>-1}(lazyLoadConfig);return useIsomorphicLayoutEffect((function(){if(!config||!isLazyLoadEnabled)return function(){};var rootMargin=function calculateRootMargin(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},marginPercent=_ref.marginPercent,mobileScaling=_ref.mobileScaling;if(marginPercent){var finalMarginPercent=isMobileDevice()&&void 0!==mobileScaling&&-1!==mobileScaling?marginPercent*mobileScaling:marginPercent;return"".concat(finalMarginPercent/100*window.innerHeight,"px")}}(lazyLoadConfig);return observerRef.current=new IntersectionObserver((function(_ref2){Object(slicedToArray.a)(_ref2,1)[0].isIntersecting&&(activate(id,customEventHandlers),containerDivRef.current&&observerRef.current.unobserve(containerDivRef.current))}),{rootMargin:rootMargin}),observerRef.current.observe(containerDivRef.current),function(){containerDivRef.current&&observerRef.current.unobserve(containerDivRef.current)}}),[activate,config]),useIsomorphicLayoutEffect((function(){config&&!isLazyLoadEnabled&&activate(id,customEventHandlers)}),[activate,config]),Object(jsx_runtime.jsx)("div",Object.assign({id:id,style:style,className:className,children:children,ref:containerDivRef},restProps))}AdvertisingSlot.displayName="AdvertisingSlot",AdvertisingSlot.__docgenInfo={description:"",methods:[],displayName:"AdvertisingSlot",props:{customEventHandlers:{defaultValue:{value:"{}",computed:!1},type:{name:"objectOf",value:{name:"func"}},required:!1,description:""},id:{type:{name:"string"},required:!0,description:""},style:{type:{name:"object"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},children:{type:{name:"node"},required:!1,description:""}}};__webpack_exports__.a=AdvertisingSlot;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/AdvertisingSlot.js"]={name:"AdvertisingSlot",docgenInfo:AdvertisingSlot.__docgenInfo,path:"src/components/AdvertisingSlot.js"})},452:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AdvertisingProvider_AdvertisingProvider}));__webpack_require__(843);var asyncToGenerator=__webpack_require__(106),classCallCheck=__webpack_require__(158),createClass=__webpack_require__(159),inherits=__webpack_require__(283),possibleConstructorReturn=__webpack_require__(284),getPrototypeOf=__webpack_require__(105),regenerator=__webpack_require__(53),regenerator_default=__webpack_require__.n(regenerator),react=(__webpack_require__(423),__webpack_require__(51),__webpack_require__(18),__webpack_require__(0)),esm_typeof=__webpack_require__(446),toConsumableArray=__webpack_require__(448),slicedToArray=__webpack_require__(120),getAdUnits=(__webpack_require__(9),__webpack_require__(43),__webpack_require__(41),__webpack_require__(48),__webpack_require__(15),__webpack_require__(38),__webpack_require__(39),__webpack_require__(17),__webpack_require__(108),__webpack_require__(122),__webpack_require__(13),__webpack_require__(80),__webpack_require__(42),__webpack_require__(54),function(slots){return slots.reduce((function(acc,currSlot){return acc.concat(currSlot.prebid.map((function(currPrebid){return{code:currSlot.id,mediaTypes:currPrebid.mediaTypes,bids:currPrebid.bids}})))}),[])}),defaultLazyLoadConfig={marginPercent:0,mobileScaling:1},Advertising_Advertising=function(){function Advertising(config){var plugins=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],onError=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};Object(classCallCheck.default)(this,Advertising),this.config=config,this.slots={},this.outOfPageSlots={},this.plugins=plugins,this.onError=onError,this.gptSizeMappings={},this.customEventCallbacks={},this.customEventHandlers={},this.queue=[],this.apsSlotType="aps",this.setDefaultConfig()}var _teardown,_setup;return Object(createClass.default)(Advertising,[{key:"setup",value:(_setup=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(){var slots,outOfPageSlots,queue,isPrebidUsed,isAPSUsed,setUpQueueItems,_loop,i,divIds,selectedSlots,requestManager,_this=this;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(this.isPrebidUsed=void 0===this.config.usePrebid?void 0!==window.pbjs:this.config.usePrebid,this.isAPSUsed=void 0===this.config.useAPS?void 0!==window.apstag:this.config.useAPS,this.apsSlotType=this.config.aps&&this.config.aps.simplerGPT?"gpt":"aps",this.executePlugins("setup"),slots=this.slots,outOfPageSlots=this.outOfPageSlots,queue=this.queue,isPrebidUsed=this.isPrebidUsed,isAPSUsed=this.isAPSUsed,this.setupCustomEvents(),setUpQueueItems=[Advertising.queueForGPT(this.setupGpt.bind(this),this.onError)],isAPSUsed)try{window.apstag.init(Object.assign({},this.config.aps,{adServer:"googletag"}))}catch(error){this.onError(error)}return isPrebidUsed&&setUpQueueItems.push(Advertising.queueForPrebid(this.setupPrebid.bind(this),this.onError)),_context.next=11,Promise.all(setUpQueueItems);case 11:if(0!==queue.length){_context.next=13;break}return _context.abrupt("return");case 13:for(_loop=function _loop(i){var _queue$i=queue[i],id=_queue$i.id,customEventHandlers=_queue$i.customEventHandlers;Object.keys(customEventHandlers).forEach((function(customEventId){return _this.customEventCallbacks[customEventId]||(_this.customEventCallbacks[customEventId]={}),_this.customEventCallbacks[customEventId][id]=customEventHandlers[customEventId]}))},i=0;i<queue.length;i++)_loop(i);if(divIds=queue.map((function(_ref){return _ref.id})),selectedSlots=queue.map((function(_ref2){var id=_ref2.id;return slots[id].gpt||outOfPageSlots[id]})),requestManager={aps:!1,prebid:!1},isPrebidUsed&&Advertising.queueForPrebid((function(){return window.pbjs.requestBids({adUnitCodes:divIds,bidsBackHandler:function bidsBackHandler(){window.pbjs.setTargetingForGPTAsync(divIds),requestManager.prebid=!0,_this.refreshSlots(selectedSlots,requestManager)}})}),this.onError),this.isAPSUsed)try{window.apstag.fetchBids({slots:queue.map((function(_ref3){var id=_ref3.id;return slots[id][_this.apsSlotType]}))},(function(){Advertising.queueForGPT((function(){window.apstag.setDisplayBids(),requestManager.aps=!0,_this.refreshSlots(selectedSlots,requestManager)}),_this.onError)}))}catch(error){this.onError(error)}isPrebidUsed||isAPSUsed||Advertising.queueForGPT((function(){return window.googletag.pubads().refresh(selectedSlots)}),this.onError);case 21:case"end":return _context.stop()}}),_callee,this)}))),function setup(){return _setup.apply(this,arguments)})},{key:"teardown",value:(_teardown=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(){var teardownQueueItems;return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return this.teardownCustomEvents(),teardownQueueItems=[Advertising.queueForGPT(this.teardownGpt.bind(this),this.onError)],this.isPrebidUsed&&teardownQueueItems.push(Advertising.queueForPrebid(this.teardownPrebid.bind(this),this.onError)),_context2.next=5,Promise.all(teardownQueueItems);case 5:this.slots={},this.gptSizeMappings={},this.queue=[];case 8:case"end":return _context2.stop()}}),_callee2,this)}))),function teardown(){return _teardown.apply(this,arguments)})},{key:"activate",value:function activate(id){var _this2=this,customEventHandlers=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},slots=this.slots,isPrebidUsed=this.isPrebidUsed;if(0!==Object.values(slots).length){Object.keys(customEventHandlers).forEach((function(customEventId){return _this2.customEventCallbacks[customEventId]||(_this2.customEventCallbacks[customEventId]={}),_this2.customEventCallbacks[customEventId][id]=customEventHandlers[customEventId]}));var requestManager={aps:!1,prebid:!1};if(isPrebidUsed&&Advertising.queueForPrebid((function(){return window.pbjs.requestBids({adUnitCodes:[id],bidsBackHandler:function bidsBackHandler(){window.pbjs.setTargetingForGPTAsync([id]),requestManager.prebid=!0,_this2.refreshSlots([slots[id].gpt],requestManager)}})}),this.onError),this.isAPSUsed)try{window.apstag.fetchBids({slots:[slots[id][this.apsSlotType]]},(function(){Advertising.queueForGPT((function(){window.apstag.setDisplayBids(),requestManager.aps=!0,_this2.refreshSlots([slots[id][_this2.apsSlotType]],requestManager)}),_this2.onError)}))}catch(error){this.onError(error)}this.isPrebidUsed||this.isAPSUsed||Advertising.queueForGPT((function(){return window.googletag.pubads().refresh([slots[id].gpt])}),this.onError)}else this.queue.push({id:id,customEventHandlers:customEventHandlers})}},{key:"isConfigReady",value:function isConfigReady(){return Boolean(this.config)}},{key:"setConfig",value:function setConfig(config){this.config=config,this.setDefaultConfig()}},{key:"setupCustomEvents",value:function setupCustomEvents(){var _this3=this;this.config.customEvents&&Object.keys(this.config.customEvents).forEach((function(customEventId){return _this3.setupCustomEvent(customEventId,_this3.config.customEvents[customEventId])}))}},{key:"setupCustomEvent",value:function setupCustomEvent(customEventId,_ref4){var eventMessagePrefix=_ref4.eventMessagePrefix,divIdPrefix=_ref4.divIdPrefix,customEventCallbacks=this.customEventCallbacks;this.customEventHandlers[customEventId]=function(_ref5){var data=_ref5.data;if("string"==typeof data&&data.startsWith("".concat(eventMessagePrefix))){var divId="".concat(divIdPrefix||"").concat(data.substr(eventMessagePrefix.length)),callbacks=customEventCallbacks[customEventId];if(callbacks){var callback=callbacks[divId];callback&&callback()}}},window.addEventListener("message",this.customEventHandlers[customEventId])}},{key:"teardownCustomEvents",value:function teardownCustomEvents(){var _this4=this;this.config.customEvents&&Object.keys(this.config.customEvents).forEach((function(customEventId){return window.removeEventListener("message",_this4.customEventHandlers[customEventId])}))}},{key:"defineGptSizeMappings",value:function defineGptSizeMappings(){if(this.config.sizeMappings)for(var entries=Object.entries(this.config.sizeMappings),i=0;i<entries.length;i++){for(var _entries$i=Object(slicedToArray.a)(entries[i],2),key=_entries$i[0],value=_entries$i[1],sizeMapping=window.googletag.sizeMapping(),q=0;q<value.length;q++){var _value$q=value[q],viewPortSize=_value$q.viewPortSize,sizes=_value$q.sizes;sizeMapping.addSize(viewPortSize,sizes)}this.gptSizeMappings[key]=sizeMapping.build()}}},{key:"getGptSizeMapping",value:function getGptSizeMapping(sizeMappingName){return sizeMappingName&&this.gptSizeMappings[sizeMappingName]?this.gptSizeMappings[sizeMappingName]:null}},{key:"defineSlots",value:function defineSlots(){var _this5=this;this.config.slots&&this.config.slots.forEach((function(_ref6){var id=_ref6.id,path=_ref6.path,collapseEmptyDiv=_ref6.collapseEmptyDiv,_ref6$targeting=_ref6.targeting,targeting=void 0===_ref6$targeting?{}:_ref6$targeting,sizes=_ref6.sizes,sizeMappingName=_ref6.sizeMappingName,gptSlot=window.googletag.defineSlot(path||_this5.config.path,sizes,id),sizeMapping=_this5.getGptSizeMapping(sizeMappingName);sizeMapping&&gptSlot.defineSizeMapping(sizeMapping),collapseEmptyDiv&&collapseEmptyDiv.length&&collapseEmptyDiv.length>0&&gptSlot.setCollapseEmptyDiv.apply(gptSlot,Object(toConsumableArray.a)(collapseEmptyDiv));for(var entries=Object.entries(targeting),i=0;i<entries.length;i++){var _entries$i2=Object(slicedToArray.a)(entries[i],2),key=_entries$i2[0],value=_entries$i2[1];gptSlot.setTargeting(key,value)}gptSlot.addService(window.googletag.pubads());var apsSlot={slotID:id,slotName:path,sizes:sizes.filter((function(size){return"object"===Object(esm_typeof.a)(size)&&"number"==typeof size[0]&&"number"==typeof size[1]}))};_this5.slots[id]={gpt:gptSlot,aps:apsSlot}}))}},{key:"defineOutOfPageSlots",value:function defineOutOfPageSlots(){var _this6=this;this.config.outOfPageSlots&&this.config.outOfPageSlots.forEach((function(_ref7){var id=_ref7.id,path=_ref7.path,slot=window.googletag.defineOutOfPageSlot(path||_this6.config.path,id);slot.addService(window.googletag.pubads()),_this6.outOfPageSlots[id]=slot}))}},{key:"defineInterstitialSlot",value:function defineInterstitialSlot(){if(this.config.interstitialSlot){var _this$config$intersti=this.config.interstitialSlot,path=_this$config$intersti.path,targeting=_this$config$intersti.targeting,slot=window.googletag.defineOutOfPageSlot(path||this.config.path,window.googletag.enums.OutOfPageFormat.INTERSTITIAL);if(slot){for(var entries=Object.entries(targeting||[]),i=0;i<entries.length;i++){var _entries$i3=Object(slicedToArray.a)(entries[i],2),key=_entries$i3[0],value=_entries$i3[1];slot.setTargeting(key,value)}slot.addService(window.googletag.pubads()),this.interstitialSlot=slot}}}},{key:"displaySlots",value:function displaySlots(){this.executePlugins("displaySlots"),this.config.slots.forEach((function(_ref8){var id=_ref8.id;window.googletag.display(id)}))}},{key:"displayOutOfPageSlots",value:function displayOutOfPageSlots(){this.executePlugins("displayOutOfPageSlot"),this.config.outOfPageSlots&&this.config.outOfPageSlots.forEach((function(_ref9){var id=_ref9.id;window.googletag.display(id)}))}},{key:"refreshInterstitialSlot",value:function refreshInterstitialSlot(){this.executePlugins("refreshInterstitialSlot"),this.interstitialSlot&&window.googletag.pubads().refresh([this.interstitialSlot])}},{key:"setupPrebid",value:function setupPrebid(){this.executePlugins("setupPrebid");var adUnits=getAdUnits(this.config.slots);window.pbjs.addAdUnits(adUnits),window.pbjs.setConfig(this.config.prebid)}},{key:"teardownPrebid",value:function teardownPrebid(){this.executePlugins("teardownPrebid"),getAdUnits(this.config.slots).forEach((function(_ref10){var code=_ref10.code;return window.pbjs.removeAdUnit(code)}))}},{key:"setupGpt",value:function setupGpt(){this.executePlugins("setupGpt");var pubads=window.googletag.pubads(),targeting=this.config.targeting;this.defineGptSizeMappings(),this.defineSlots(),this.defineOutOfPageSlots(),this.defineInterstitialSlot();var entries=Object.entries(targeting);pubads.clearTargeting();for(var i=0;i<entries.length;i++){var _entries$i4=Object(slicedToArray.a)(entries[i],2),key=_entries$i4[0],value=_entries$i4[1];pubads.setTargeting(key,value)}pubads.disableInitialLoad(),pubads.enableSingleRequest(),window.googletag.enableServices(),this.displaySlots(),this.displayOutOfPageSlots(),this.refreshInterstitialSlot()}},{key:"teardownGpt",value:function teardownGpt(){this.executePlugins("teardownGpt"),window.googletag.destroySlots()}},{key:"setDefaultConfig",value:function setDefaultConfig(){this.config&&(this.config.prebid||(this.config.prebid={}),this.config.metaData||(this.config.metaData={}),this.config.targeting||(this.config.targeting={}),!0===this.config.enableLazyLoad&&(this.config.enableLazyLoad=defaultLazyLoadConfig),this.config.slots&&(this.config.slots=this.config.slots.map((function(slot){return!0===slot.enableLazyLoad?Object.assign({},slot,{enableLazyLoad:defaultLazyLoadConfig}):slot}))))}},{key:"executePlugins",value:function executePlugins(method){for(var i=0;i<this.plugins.length;i++){var func=this.plugins[i][method];func&&func.call(this)}}},{key:"refreshSlots",value:function refreshSlots(selectedSlots,requestManager){this.isAPSUsed===requestManager.aps&&this.isPrebidUsed===requestManager.prebid&&Advertising.queueForGPT((function(){window.googletag.pubads().refresh(selectedSlots)}),this.onError)}}],[{key:"queueForGPT",value:function queueForGPT(func,onError){return Advertising.withQueue(window.googletag.cmd,func,onError)}},{key:"queueForPrebid",value:function queueForPrebid(func,onError){return Advertising.withQueue(window.pbjs.que,func,onError)}},{key:"withQueue",value:function withQueue(queue,func,onError){return new Promise((function(resolve){return queue.push((function(){try{func(),resolve()}catch(error){onError(error)}}))}))}}]),Advertising}(),AdvertisingContext=(__webpack_require__(2),__webpack_require__(215)),fast_deep_equal=__webpack_require__(213),fast_deep_equal_default=__webpack_require__.n(fast_deep_equal),jsx_runtime=__webpack_require__(8);function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Object(getPrototypeOf.default)(Derived);if(hasNativeReflectConstruct){var NewTarget=Object(getPrototypeOf.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Object(possibleConstructorReturn.default)(this,result)}}var AdvertisingProvider_AdvertisingProvider=function(_Component){Object(inherits.default)(AdvertisingProvider,_Component);var _teardown,_componentWillUnmount,_componentDidUpdate,_componentDidMount,_super=_createSuper(AdvertisingProvider);function AdvertisingProvider(props){var _this;Object(classCallCheck.default)(this,AdvertisingProvider),(_this=_super.call(this,props)).initialize();var config=props.config,_props$active=props.active,active=void 0===_props$active||_props$active;return _this.state={activate:_this.advertising.activate.bind(_this.advertising),config:config,isInitialSetupComplete:!1},_this.active=active,_this}return Object(createClass.default)(AdvertisingProvider,[{key:"componentDidMount",value:(_componentDidMount=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(){return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!this.advertising.isConfigReady()||!this.active){_context.next=4;break}return _context.next=3,this.advertising.setup();case 3:this.setState({isInitialSetupComplete:!0});case 4:case"end":return _context.stop()}}),_callee,this)}))),function componentDidMount(){return _componentDidMount.apply(this,arguments)})},{key:"componentDidUpdate",value:(_componentDidUpdate=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(prevProps){var _this$props,config,_this$props$active,active,isConfigReady;return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(this.advertising){_context2.next=2;break}return _context2.abrupt("return");case 2:if(_this$props=this.props,config=_this$props.config,_this$props$active=_this$props.active,active=void 0===_this$props$active||_this$props$active,(isConfigReady=this.advertising.isConfigReady())||!config||!active){_context2.next=11;break}return this.advertising.setConfig(config),_context2.next=8,this.advertising.setup();case 8:this.advertising&&this.setState({activate:this.advertising.activate.bind(this.advertising),config:this.advertising.config}),_context2.next=20;break;case 11:if(!isConfigReady||fast_deep_equal_default()(prevProps.config,config)){_context2.next=20;break}return _context2.next=14,this.teardown();case 14:if(!active){_context2.next=20;break}if(this.initialize(),!this.advertising.isConfigReady()){_context2.next=19;break}return _context2.next=19,this.advertising.setup();case 19:this.setState({activate:this.advertising.activate.bind(this.advertising),config:this.advertising.config});case 20:case"end":return _context2.stop()}}),_callee2,this)}))),function componentDidUpdate(_x){return _componentDidUpdate.apply(this,arguments)})},{key:"componentWillUnmount",value:(_componentWillUnmount=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee3(){return regenerator_default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(!this.props.config||!this.state.isInitialSetupComplete){_context3.next=3;break}return _context3.next=3,this.teardown();case 3:case"end":return _context3.stop()}}),_callee3,this)}))),function componentWillUnmount(){return _componentWillUnmount.apply(this,arguments)})},{key:"teardown",value:(_teardown=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee4(){var _this$advertising;return regenerator_default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return this.setState({activate:function activate(){},config:null}),_context4.next=3,null===(_this$advertising=this.advertising)||void 0===_this$advertising?void 0:_this$advertising.teardown();case 3:this.advertising=null;case 4:case"end":return _context4.stop()}}),_callee4,this)}))),function teardown(){return _teardown.apply(this,arguments)})},{key:"initialize",value:function initialize(){var _this$props2=this.props,config=_this$props2.config,plugins=_this$props2.plugins,onError=_this$props2.onError;this.advertising=new Advertising_Advertising(config,plugins,onError)}},{key:"render",value:function render(){var _this$state=this.state,activate=_this$state.activate,config=_this$state.config;return Object(jsx_runtime.jsx)(AdvertisingContext.a.Provider,{value:{activate:activate,config:config},children:this.props.children})}}]),AdvertisingProvider}(react.Component);AdvertisingProvider_AdvertisingProvider.__docgenInfo={description:"",methods:[{name:"teardown",docblock:null,modifiers:["async"],params:[],returns:null},{name:"initialize",docblock:null,modifiers:[],params:[],returns:null}],displayName:"AdvertisingProvider",props:{active:{type:{name:"bool"},required:!1,description:""},config:{type:{name:"custom",raw:"AdvertisingConfigPropType"},required:!1,description:""},children:{type:{name:"node"},required:!1,description:""},onError:{type:{name:"func"},required:!1,description:""},plugins:{type:{name:"arrayOf",value:{name:"shape",value:{setupPrebid:{name:"func",required:!1},setupGpt:{name:"func",required:!1},teardownPrebid:{name:"func",required:!1},teardownGpt:{name:"func",required:!1}}}},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/AdvertisingProvider.js"]={name:"AdvertisingProvider",docgenInfo:AdvertisingProvider_AdvertisingProvider.__docgenInfo,path:"src/components/AdvertisingProvider.js"})},472:function(module,exports,__webpack_require__){__webpack_require__(473),__webpack_require__(637),__webpack_require__(638),__webpack_require__(847),__webpack_require__(845),__webpack_require__(849),__webpack_require__(846),__webpack_require__(850),__webpack_require__(851),module.exports=__webpack_require__(838)},542:function(module,exports){},638:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(343)},838:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(343).configure)([__webpack_require__(839),__webpack_require__(840)],module,!1)}).call(this,__webpack_require__(191)(module))},839:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=839},840:function(module,exports,__webpack_require__){var map={"./stories/GptBanner.stories.js":841,"./stories/GptInterstitial.stories.js":844,"./stories/GptLazyLoading.stories.js":848};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=840},841:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DefaultStory",(function(){return DefaultStory}));__webpack_require__(9);var _storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(67),_index__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(0),__webpack_require__(452)),_index__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(451),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(450),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8),DefaultStory=function DefaultStory(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_index__WEBPACK_IMPORTED_MODULE_3__.a,{config:{slots:[{id:"banner-ad",path:"/6355419/Travel/Europe/France/Paris",sizes:[[300,250]]}]},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_index__WEBPACK_IMPORTED_MODULE_4__.a,{id:"banner-ad"})})};DefaultStory.displayName="DefaultStory",DefaultStory.storyName="GPT Banner",__webpack_exports__.default={title:"GPT Banner",decorators:[_utils__WEBPACK_IMPORTED_MODULE_5__.a],parameters:{docs:{source:{type:"code"},description:{component:"\nIn this most basic example of them all, we show a medium rectangle banner\n(320x200 pixels) delivered by the Google Ad Manager, through Google Publisher \nTag (GPT).\n        "},page:function page(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_1__.c,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_1__.a,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_1__.b,{})]})}}}},DefaultStory.parameters=Object.assign({storySource:{source:"() => {\n  const config = {\n    slots: [\n      {\n        id: 'banner-ad',\n        path: '/6355419/Travel/Europe/France/Paris',\n        sizes: [[300, 250]],\n      },\n    ],\n  };\n  return (\n    <AdvertisingProvider config={config}>\n      <AdvertisingSlot id=\"banner-ad\" />\n    </AdvertisingProvider>\n  );\n}"}},DefaultStory.parameters),DefaultStory.__docgenInfo={description:"",methods:[],displayName:"DefaultStory",props:{config:{type:{name:"custom",raw:"AdvertisingConfigPropType"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/GptBanner.stories.js"]={name:"DefaultStory",docgenInfo:DefaultStory.__docgenInfo,path:"src/stories/GptBanner.stories.js"})},844:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DefaultStory",(function(){return DefaultStory}));__webpack_require__(9);var _storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(67),_index__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(0),__webpack_require__(452)),_index__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(451),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(450),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8),DefaultStory=function DefaultStory(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_index__WEBPACK_IMPORTED_MODULE_3__.a,{config:{slots:[{id:"div-slot",path:"/6355419/Travel/Europe",sizes:[[100,100]]}],interstitialSlot:{path:"/6355419/Travel/Europe/France/Paris"}},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_index__WEBPACK_IMPORTED_MODULE_4__.a,{id:"div-slot"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("a",{id:"link",href:"https://www.example.com/",children:"TRIGGER INTERSTITIAL"})]})};DefaultStory.displayName="DefaultStory",DefaultStory.storyName="GPT Interstitial",__webpack_exports__.default={title:"GPT Interstitial",decorators:[_utils__WEBPACK_IMPORTED_MODULE_5__.a],parameters:{docs:{source:{type:"code"},description:{component:'\nThis example is the simplest implementation of an interstitial ad, delivered by the Google Ad \nManager, through Google Publisher Tag (GPT). see more information of the default implementation here:\nhttps://developers.google.com/publisher-tag/samples/display-web-interstitial-ad\n\nYou can prevent specific links from triggering GPT-managed web interstials by adding a \ndata-google-interstitial="false" attribute to the anchor element or any ancestor of the anchor element.\n\n⚠️ **Please note** currently an interstitial is not working standalone, there must be a basic slot available that would be displayed.\n\n⚠️ **Please note** an interstistial can only triggered in separate window, it doesn\'t work in an iframe....\n        '},page:function page(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_1__.c,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_1__.a,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_1__.b,{})]})}}}},DefaultStory.parameters=Object.assign({storySource:{source:'() => {\n  const config = {\n    slots: [\n      {\n        id: "div-slot",\n        path: "/6355419/Travel/Europe",\n        sizes: [[100, 100]]\n      }\n    ],\n    interstitialSlot: {\n      path: "/6355419/Travel/Europe/France/Paris"\n    }\n  };\n  return (\n    <AdvertisingProvider config={config}>\n      <AdvertisingSlot id="div-slot" />\n      <a id="link" href="https://www.example.com/">\n        TRIGGER INTERSTITIAL\n      </a>\n    </AdvertisingProvider>\n  );\n}'}},DefaultStory.parameters),DefaultStory.__docgenInfo={description:"",methods:[],displayName:"DefaultStory",props:{config:{type:{name:"custom",raw:"AdvertisingConfigPropType"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/GptInterstitial.stories.js"]={name:"DefaultStory",docgenInfo:DefaultStory.__docgenInfo,path:"src/stories/GptInterstitial.stories.js"})},848:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DefaultStory",(function(){return GptLazyLoading_stories_DefaultStory}));__webpack_require__(9);var blocks=__webpack_require__(67),AdvertisingProvider=(__webpack_require__(0),__webpack_require__(452)),AdvertisingSlot=__webpack_require__(451),jsx_runtime=(__webpack_require__(2),__webpack_require__(8));function RowLayout(_ref){var children=_ref.children;return Object(jsx_runtime.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:children})}function Spacer(_ref){var height=_ref.height;return Object(jsx_runtime.jsx)("div",{style:{height:"".concat(height,"vh")}})}RowLayout.displayName="RowLayout",RowLayout.__docgenInfo={description:"",methods:[],displayName:"RowLayout",props:{children:{type:{name:"node"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/utils/RowLayout.js"]={name:"RowLayout",docgenInfo:RowLayout.__docgenInfo,path:"src/stories/utils/RowLayout.js"}),Spacer.displayName="Spacer",Spacer.__docgenInfo={description:"",methods:[],displayName:"Spacer",props:{height:{type:{name:"number"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/utils/Spacer.js"]={name:"Spacer",docgenInfo:Spacer.__docgenInfo,path:"src/stories/utils/Spacer.js"});var GptDecorator=__webpack_require__(450),GptLazyLoading_stories_DefaultStory=function DefaultStory(){return Object(jsx_runtime.jsxs)(AdvertisingProvider.a,{config:{slots:[{id:"gpt-ad01",path:"/6355419/Travel/Europe/France",sizes:[[728,90]]},{id:"gpt-ad02",path:"/6355419/Travel/Europe/Spain",sizes:[[728,90]]},{id:"gpt-ad03",path:"/6355419/Travel/Europe/Italy",sizes:[[728,90]]},{id:"gpt-ad04",path:"/6355419/Travel/Europe/Portugal",sizes:[[728,90]]}],enableLazyLoad:!0,targeting:{test:"lazyload"}},children:[Object(jsx_runtime.jsx)("p",{children:"👇🏻 Scroll down to see lazy loaded ads"}),Object(jsx_runtime.jsxs)(RowLayout,{children:[Object(jsx_runtime.jsx)(AdvertisingSlot.a,{id:"gpt-ad01"}),Object(jsx_runtime.jsx)(Spacer,{height:150}),Object(jsx_runtime.jsx)(AdvertisingSlot.a,{id:"gpt-ad02"}),Object(jsx_runtime.jsx)(Spacer,{height:150}),Object(jsx_runtime.jsx)(AdvertisingSlot.a,{id:"gpt-ad03"}),Object(jsx_runtime.jsx)(Spacer,{height:150}),Object(jsx_runtime.jsx)(AdvertisingSlot.a,{id:"gpt-ad04"})]})]})};GptLazyLoading_stories_DefaultStory.displayName="DefaultStory",GptLazyLoading_stories_DefaultStory.storyName="GPT Lazy Loading";__webpack_exports__.default={title:"GPT Lazy Loading",decorators:[GptDecorator.a],parameters:{docs:{source:{type:"code"},description:{component:"\nThis example show how you can “lazy load” ads, i.e. the ad slots on a long page get only activated and filled with \nbanners when they the user scrolls down the page and the ads are almost in the browser viewport. \n        "},page:function page(){return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(blocks.c,{}),Object(jsx_runtime.jsx)(blocks.a,{}),Object(jsx_runtime.jsx)(blocks.b,{})]})}}}};GptLazyLoading_stories_DefaultStory.parameters=Object.assign({storySource:{source:"() => {\n  const config = {\n    slots: [\n      {\n        id: 'gpt-ad01',\n        path: '/6355419/Travel/Europe/France',\n        sizes: [[728, 90]],\n      },\n      {\n        id: 'gpt-ad02',\n        path: '/6355419/Travel/Europe/Spain',\n        sizes: [[728, 90]],\n      },\n      {\n        id: 'gpt-ad03',\n        path: '/6355419/Travel/Europe/Italy',\n        sizes: [[728, 90]],\n      },\n      {\n        id: 'gpt-ad04',\n        path: '/6355419/Travel/Europe/Portugal',\n        sizes: [[728, 90]],\n      },\n    ],\n    enableLazyLoad: true,\n    targeting: {\n      test: 'lazyload',\n    },\n  };\n  return (\n    <AdvertisingProvider config={config}>\n      <p>👇🏻 Scroll down to see lazy loaded ads</p>\n      <RowLayout>\n        <AdvertisingSlot id=\"gpt-ad01\" />\n        <Spacer height={150} />\n        <AdvertisingSlot id=\"gpt-ad02\" />\n        <Spacer height={150} />\n        <AdvertisingSlot id=\"gpt-ad03\" />\n        <Spacer height={150} />\n        <AdvertisingSlot id=\"gpt-ad04\" />\n      </RowLayout>\n    </AdvertisingProvider>\n  );\n}"}},GptLazyLoading_stories_DefaultStory.parameters),GptLazyLoading_stories_DefaultStory.__docgenInfo={description:"",methods:[],displayName:"DefaultStory",props:{config:{type:{name:"custom",raw:"AdvertisingConfigPropType"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/GptLazyLoading.stories.js"]={name:"DefaultStory",docgenInfo:GptLazyLoading_stories_DefaultStory.__docgenInfo,path:"src/stories/GptLazyLoading.stories.js"})},851:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));__webpack_require__(17),__webpack_require__(35),__webpack_require__(42),__webpack_require__(834),__webpack_require__(38),__webpack_require__(39),__webpack_require__(835),__webpack_require__(836),__webpack_require__(837);var client_api=__webpack_require__(857),esm=__webpack_require__(5),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(client_api.b)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(client_api.c)(loader,!1)}));case"parameters":return Object(client_api.d)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(client_api.a)(enhancer)}));case"globals":case"globalTypes":var v={};return v[key]=value,Object(client_api.d)(v,!1);default:return console.log(key+" was not supported :( !")}}))}},[[472,2,3]]]);